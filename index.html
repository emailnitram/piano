<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano Learning App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéπ Piano Learning App</h1>
            <p>Press keys on your keyboard or click the piano to play</p>
        </header>

        <div class="instructions">
            <p><strong>Keyboard Mapping:</strong></p>
            <div class="key-mapping">
                <span><kbd>A</kbd> = C</span>
                <span><kbd>W</kbd> = C#</span>
                <span><kbd>S</kbd> = D</span>
                <span><kbd>E</kbd> = D#</span>
                <span><kbd>D</kbd> = E</span>
                <span><kbd>F</kbd> = F</span>
                <span><kbd>T</kbd> = F#</span>
                <span><kbd>G</kbd> = G</span>
                <span><kbd>Y</kbd> = G#</span>
                <span><kbd>H</kbd> = A</span>
                <span><kbd>U</kbd> = A#</span>
                <span><kbd>J</kbd> = B</span>
                <span><kbd>K</kbd> = C (next octave)</span>
            </div>
        </div>

        <div class="piano-container">
            <div class="piano" id="piano">
                <!-- White keys -->
                <div class="key white" data-note="C" data-key="a" data-freq="261.63" data-finger="1">
                    <span class="finger-indicator">1</span>
                    <span class="note-label">C</span>
                    <span class="key-label">A</span>
                </div>
                <div class="key white" data-note="D" data-key="s" data-freq="293.66" data-finger="2">
                    <span class="finger-indicator">2</span>
                    <span class="note-label">D</span>
                    <span class="key-label">S</span>
                </div>
                <div class="key white" data-note="E" data-key="d" data-freq="329.63" data-finger="3">
                    <span class="finger-indicator">3</span>
                    <span class="note-label">E</span>
                    <span class="key-label">D</span>
                </div>
                <div class="key white" data-note="F" data-key="f" data-freq="349.23" data-finger="1">
                    <span class="finger-indicator">1</span>
                    <span class="note-label">F</span>
                    <span class="key-label">F</span>
                </div>
                <div class="key white" data-note="G" data-key="g" data-freq="392.00" data-finger="2">
                    <span class="finger-indicator">2</span>
                    <span class="note-label">G</span>
                    <span class="key-label">G</span>
                </div>
                <div class="key white" data-note="A" data-key="h" data-freq="440.00" data-finger="3">
                    <span class="finger-indicator">3</span>
                    <span class="note-label">A</span>
                    <span class="key-label">H</span>
                </div>
                <div class="key white" data-note="B" data-key="j" data-freq="493.88" data-finger="4">
                    <span class="finger-indicator">4</span>
                    <span class="note-label">B</span>
                    <span class="key-label">J</span>
                </div>
                <div class="key white" data-note="C2" data-key="k" data-freq="523.25" data-finger="5">
                    <span class="finger-indicator">5</span>
                    <span class="note-label">C</span>
                    <span class="key-label">K</span>
                </div>
                
                <!-- Black keys -->
                <div class="key black" data-note="C#" data-key="w" data-freq="277.18" style="left: 12.5%">
                    <span class="note-label">C#</span>
                    <span class="key-label">W</span>
                </div>
                <div class="key black" data-note="D#" data-key="e" data-freq="311.13" style="left: 25%">
                    <span class="note-label">D#</span>
                    <span class="key-label">E</span>
                </div>
                <div class="key black" data-note="F#" data-key="t" data-freq="369.99" style="left: 50%">
                    <span class="note-label">F#</span>
                    <span class="key-label">T</span>
                </div>
                <div class="key black" data-note="G#" data-key="y" data-freq="415.30" style="left: 62.5%">
                    <span class="note-label">G#</span>
                    <span class="key-label">Y</span>
                </div>
                <div class="key black" data-note="A#" data-key="u" data-freq="466.16" style="left: 75%">
                    <span class="note-label">A#</span>
                    <span class="key-label">U</span>
                </div>
            </div>
        </div>

        <div class="quiz-section">
            <div class="mode-toggle">
                <button id="free-play-btn" class="mode-btn active">Free Play</button>
                <button id="quiz-btn" class="mode-btn">Note Quiz</button>
                <button id="scales-btn" class="mode-btn">Scales</button>
                <button id="songs-btn" class="mode-btn">Songs</button>
                <button id="lessons-btn" class="mode-btn">Lessons</button>
            </div>
            
            <div id="quiz-panel" class="quiz-panel hidden">
                <div class="quiz-display">
                    <p class="quiz-instruction">Play this note:</p>
                    <div id="target-note" class="target-note">?</div>
                    <div id="note-hint" class="note-hint"></div>
                </div>
                <div class="quiz-controls">
                    <button id="start-quiz-btn" class="quiz-action-btn">Start Quiz</button>
                    <button id="next-note-btn" class="quiz-action-btn hidden">Next Note</button>
                </div>
                <div class="quiz-stats">
                    <div class="stat">
                        <span class="stat-label">Score</span>
                        <span id="score" class="stat-value">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Streak</span>
                        <span id="streak" class="stat-value">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Best</span>
                        <span id="best-streak" class="stat-value">0</span>
                    </div>
                </div>
                <div id="feedback" class="feedback"></div>
            </div>
            
            <div id="scales-panel" class="scales-panel hidden">
                <div class="scales-display">
                    <h3>C Major Scale</h3>
                    <p class="scales-instruction">Follow the highlighted keys in order</p>
                    <div class="scale-progress">
                        <div id="scale-notes" class="scale-notes">C ‚Üí D ‚Üí E ‚Üí F ‚Üí G ‚Üí A ‚Üí B ‚Üí C</div>
                        <div id="current-scale-note" class="current-scale-note">Press Start to begin</div>
                    </div>
                    <div class="finger-guide">
                        <p>Right Hand Fingers:</p>
                        <div class="finger-numbers">
                            <span class="finger-num" data-note="C">1</span>
                            <span class="finger-num" data-note="D">2</span>
                            <span class="finger-num" data-note="E">3</span>
                            <span class="finger-num" data-note="F">1</span>
                            <span class="finger-num" data-note="G">2</span>
                            <span class="finger-num" data-note="A">3</span>
                            <span class="finger-num" data-note="B">4</span>
                            <span class="finger-num" data-note="C2">5</span>
                        </div>
                    </div>
                </div>
                <div class="scales-controls">
                    <button id="start-scale-btn" class="scale-action-btn">Start Practice</button>
                    <button id="reset-scale-btn" class="scale-action-btn hidden">Reset</button>
                    <div class="scale-direction">
                        <label class="direction-toggle">
                            <input type="checkbox" id="descending-toggle">
                            <span class="toggle-label">Descending</span>
                        </label>
                    </div>
                </div>
                <div class="metronome-section">
                    <div class="metronome-display">
                        <div id="metronome-beat" class="metronome-beat"></div>
                        <span class="beat-label">‚ô© = 60</span>
                    </div>
                    <div class="metronome-toggle">
                        <label class="metro-toggle">
                            <input type="checkbox" id="metronome-toggle" checked>
                            <span class="metro-label">Metronome On</span>
                        </label>
                    </div>
                </div>
                <div class="scales-feedback" id="scales-feedback"></div>
            </div>
            
            <div id="songs-panel" class="songs-panel hidden">
                <div class="songs-display">
                    <h3>Learn a Song</h3>
                    <div class="song-selector">
                        <select id="song-select" class="song-select">
                            <option value="twinkle">‚≠ê Twinkle Twinkle Little Star</option>
                            <option value="mary">‚≠ê Mary Had a Little Lamb</option>
                            <option value="ode">‚≠ê Ode to Joy</option>
                        </select>
                    </div>
                    <div class="falling-notes-container">
                        <div id="falling-notes" class="falling-notes">
                            <div class="notes-track">
                                <div id="notes-display" class="notes-display">Select a song and press Start</div>
                            </div>
                            <div class="play-line"></div>
                        </div>
                    </div>
                    <div class="song-progress">
                        <div class="progress-bar">
                            <div id="song-progress-fill" class="progress-fill"></div>
                        </div>
                        <span id="progress-text" class="progress-text">0 / 0 notes</span>
                    </div>
                </div>
                <div class="songs-controls">
                    <button id="start-song-btn" class="song-action-btn">Start Song</button>
                    <button id="pause-song-btn" class="song-action-btn hidden">Pause</button>
                    <button id="reset-song-btn" class="song-action-btn hidden">Reset</button>
                </div>
                <div class="songs-options">
                    <div class="speed-control">
                        <label for="speed-slider">Speed:</label>
                        <input type="range" id="speed-slider" min="0.25" max="1.5" step="0.25" value="0.5" class="speed-slider">
                        <span id="speed-value" class="speed-value">50%</span>
                    </div>
                    <div class="mode-toggles">
                        <label class="song-toggle">
                            <input type="checkbox" id="wait-mode-toggle" checked>
                            <span class="toggle-text">Wait Mode</span>
                        </label>
                        <label class="song-toggle">
                            <input type="checkbox" id="loop-toggle">
                            <span class="toggle-text">Loop</span>
                        </label>
                    </div>
                </div>
                <div class="songs-feedback" id="songs-feedback"></div>
            </div>
            
            <div id="lessons-panel" class="lessons-panel hidden">
                <div class="lessons-display">
                    <h3>Piano Basics & Technique</h3>
                    <div class="lessons-nav">
                        <button class="lesson-tab active" data-lesson="hand-position">Hand Position</button>
                        <button class="lesson-tab" data-lesson="posture">Posture</button>
                        <button class="lesson-tab" data-lesson="theory">Music Theory</button>
                    </div>
                    
                    <div id="lesson-content" class="lesson-content">
                        <div class="lesson-section" id="hand-position-lesson">
                            <h4>Proper Hand Position</h4>
                            <div class="hand-position-visual">
                                <div class="hand-diagram">
                                    <div class="hand-outline">
                                        <div class="finger finger-1">1</div>
                                        <div class="finger finger-2">2</div>
                                        <div class="finger finger-3">3</div>
                                        <div class="finger finger-4">4</div>
                                        <div class="finger finger-5">5</div>
                                    </div>
                                    <div class="position-labels">
                                        <span>Thumb</span>
                                        <span>Index</span>
                                        <span>Middle</span>
                                        <span>Ring</span>
                                        <span>Pinky</span>
                                    </div>
                                </div>
                            </div>
                            <div class="lesson-tips">
                                <ul>
                                    <li><strong>Curve your fingers</strong> like you're holding a small ball</li>
                                    <li><strong>Thumb stays straight</strong>, other fingers curved</li>
                                    <li><strong>Wrist level</strong> with the keyboard - not too high or low</li>
                                    <li><strong>Fingertips</strong> on the keys, not flat fingers</li>
                                    <li><strong>Start position:</strong> Thumb (1) on middle C</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="lesson-section hidden" id="posture-lesson">
                            <h4>Proper Posture</h4>
                            <div class="posture-visual">
                                <div class="posture-diagram">
                                    <div class="seat-height">ü™ë</div>
                                    <div class="back-straight">‚ÜïÔ∏è</div>
                                    <div class="feet-flat">üë£</div>
                                </div>
                            </div>
                            <div class="lesson-tips">
                                <ul>
                                    <li><strong>Sit tall</strong> - Back straight, shoulders relaxed</li>
                                    <li><strong>Elbow height</strong> - Arms should form a gentle arc</li>
                                    <li><strong>Feet flat</strong> on the floor for stability</li>
                                    <li><strong>Distance:</strong> About forearm's length from piano</li>
                                    <li><strong>Center yourself</strong> on middle C</li>
                                    <li><strong>Relaxed shoulders</strong> - no tension in neck or arms</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="lesson-section hidden" id="theory-lesson">
                            <h4>Basic Music Theory</h4>
                            <div class="theory-grid">
                                <div class="theory-card">
                                    <h5>Whole Steps</h5>
                                    <div class="step-demo">
                                        <span class="note">C</span>
                                        <span class="arrow">‚Üí‚Üí</span>
                                        <span class="note">D</span>
                                    </div>
                                    <p>Two half steps apart. Skip one key.</p>
                                </div>
                                <div class="theory-card">
                                    <h5>Half Steps</h5>
                                    <div class="step-demo">
                                        <span class="note">C</span>
                                        <span class="arrow">‚Üí</span>
                                        <span class="note">C#</span>
                                    </div>
                                    <p>Adjacent keys. No keys in between.</p>
                                </div>
                                <div class="theory-card">
                                    <h5>Octave</h5>
                                    <div class="step-demo">
                                        <span class="note">C</span>
                                        <span class="arrow">‚Äî‚Äî‚Äî</span>
                                        <span class="note">C</span>
                                    </div>
                                    <p>8 notes apart. Same letter, double frequency.</p>
                                </div>
                            </div>
                            <div class="lesson-tips">
                                <ul>
                                    <li><strong>Major Scale Pattern:</strong> W-W-H-W-W-W-H (Whole/Half steps)</li>
                                    <li><strong>C Major:</strong> No sharps or flats - all white keys!</li>
                                    <li><strong>Intervals:</strong> Distance between two notes</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="lessons-progress">
                    <h4>Your Progress</h4>
                    <div class="progress-grid">
                        <div class="progress-item">
                            <div class="progress-icon">üéØ</div>
                            <div class="progress-info">
                                <span class="progress-name">Note Quiz</span>
                                <span class="progress-value" id="quiz-progress">0 notes learned</span>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-icon">üéπ</div>
                            <div class="progress-info">
                                <span class="progress-name">Scales</span>
                                <span class="progress-value" id="scales-progress">0 scales completed</span>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-icon">üéµ</div>
                            <div class="progress-info">
                                <span class="progress-name">Songs</span>
                                <span class="progress-value" id="songs-progress">0 songs mastered</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="keyboard-shortcuts-ref">
                    <h4>Quick Reference</h4>
                    <div class="shortcuts-grid">
                        <div class="shortcut-item">
                            <kbd>A</kbd> - <span>C (Thumb)</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>S</kbd> - <span>D (Index)</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>D</kbd> - <span>E (Middle)</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>F</kbd> - <span>F (Thumb)</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>G</kbd> - <span>G (Index)</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>H</kbd> - <span>A (Middle)</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>J</kbd> - <span>B (Ring)</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>K</kbd> - <span>C (Pinky)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="status">
            <p id="status-text">Ready to play!</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
